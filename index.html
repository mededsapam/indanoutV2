<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Laporan Barang</title>
<style>
  body { font-family: Arial, sans-serif; padding:20px; max-width:700px; margin:auto; }
  input { padding:8px; width:100%; box-sizing:border-box; margin-bottom:10px; }
  button { padding:10px 16px; }
</style>
</head>
<body>
<h2>Form Laporan Barang</h2>
<form id="laporanForm">
  <label>Hari/Tanggal</label>
  <input type="text" name="Hari/Tanggal" required>

  <label>Jam</label>
  <input type="text" name="Jam" required>

  <label>Material dan Jumlah</label>
  <input type="text" name="Material dan Jumlah" required>

  <label>Keterangan</label>
  <input type="text" name="Keterangan" required>

  <button type="submit">Submit</button>
</form>

<div id="msg" style="margin-top:12px;color:green;display:none"></div>

<script>
const GAS_URL = "https://script.google.com/macros/s/AKfycbyET9ITEquXH5xnrzOBXZEP4C7_9q7u3zyz3SrzKaA3SZVNMb-gHTAQf0Rn6jgnWtNO4w/exec"; // Ganti dengan URL GAS lo

document.getElementById('laporanForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const form = e.target;
  const pairs = [];
  const fd = new FormData(form);
  for (const p of fd.entries()) pairs.push(p[0] + "=" + encodeURIComponent(p[1]));
  fetch(GAS_URL, {
    method: "POST",
    body: pairs.join("&"),
    headers: { "Content-Type": "text/plain;charset=utf-8" }
  })
  .then(res => {
    document.getElementById('msg').style.display = "block";
    document.getElementById('msg').textContent = "Data berhasil dikirim!";
    form.reset();
    setTimeout(()=>{ document.getElementById('msg').style.display='none'; }, 6000);
  })
  .catch(err => {
    console.error("Gagal kirim laporan:", err);
    document.getElementById('msg').style.display = "block";
    document.getElementById('msg').textContent = "Gagal mengirim, coba lagi.";
  });
});
</script>

</body>
  </html>
